(this["webpackJsonpreact-three-fiber-intro"]=this["webpackJsonpreact-three-fiber-intro"]||[]).push([[0],{21:function(e,t,o){},47:function(e,t,o){},52:function(e,t,o){"use strict";o.r(t);var c=o(5),n=o.n(c),s=o(38),r=o.n(s),a=(o(47),o(10)),i=(o(21),o(12)),l=o(39),j=o(8);Object(i.b)({OrbitControls:l.a});var b=function(){var e=Object(i.e)(),t=e.camera,o=e.gl.domElement,n=Object(c.useRef)();return Object(i.c)((function(){n.current.update()})),Object(j.jsx)("orbitControls",{ref:n,args:[t,o],attach:"orbitControls"})},u=o(9),h=o(20),d=function(e){var t=Object(h.b)((function(){return Object(u.a)({args:[20,1,10]},e)})),o=Object(a.a)(t,2),c=o[0];o[1];return console.log("floor is here"),Object(j.jsxs)("mesh",Object(u.a)(Object(u.a)({},e),{},{ref:c,receiveShadow:!0,children:[Object(j.jsx)("boxBufferGeometry",{args:[20,1,10]}),Object(j.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.05,color:"white"})]}))},g=function(e){console.log("floor is here");var t=Object(i.e)().scene,o=Object(c.useRef)();return console.log(t.lights),Object(c.useEffect)((function(){t.lights?t.lights.push(o):t.lights=[o]}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("mesh",Object(u.a)(Object(u.a)({},e),{},{ref:o,children:[Object(j.jsx)("pointLight",{castShadow:!0,intensity:5,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),"/",Object(j.jsx)("sphereBufferGeometry",{args:[.2,20,20]}),Object(j.jsx)("meshPhongMaterial",{emissive:"yellow"})]}))})},O=o(0),f=function(){var e=Object(i.d)(O.TextureLoader,"/car-configurator-r3f-deploy/autoshop.jpg");Object(i.e)().gl;return Object(c.useMemo)((function(){e.encoding=O.sRGBEncoding,e.mapping=O.EquirectangularReflectionMapping}),[]),Object(j.jsx)("primitive",{attach:"background",object:e})},p={cameraPos:[6,3,5],targetPos:[-6,3,5],shouldFocus:!1,activeMesh:{},activeMeshName:""},m=function(){var e=function(e){console.log(p.activeMesh),p.activeMesh.material.color=new O.Color(e.target.style.background)};return Object(j.jsxs)("div",{style:{position:"absolute",zIndex:1,left:0,right:0,margin:"auto",width:"fit-context",display:"flex",top:"20px"},children:[Object(j.jsx)("div",{style:{background:"blue",height:50,width:50},onClick:e}),Object(j.jsx)("div",{style:{background:"yellow",height:50,width:50},onClick:e}),Object(j.jsx)("div",{style:{background:"white",height:50,width:50},onClick:e})]})},x=o(42);Object(i.b)({DragControls:x.a});var v=function(e){var t=Object(c.useRef)(),o=Object(c.useRef)(),n=Object(c.useState)([]),s=Object(a.a)(n,2),r=s[0],l=s[1],b=Object(i.e)(),u=b.gl,h=b.camera,d=b.scene;return Object(c.useEffect)((function(){console.log(t.current),l(t.current.children)}),[]),Object(c.useEffect)((function(){o.current.addEventListener("hoveron",(function(e){console.log(d),d.orbitControls.enabled=!1})),o.current.addEventListener("hoveroff",(function(e){console.log(d),d.orbitControls.enabled=!0})),o.current.addEventListener("dragstart",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(0)})),o.current.addEventListener("dragend",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(1)})),o.current.addEventListener("drag",(function(e){var t,o;console.log(e.object),null===(t=e.object.api)||void 0===t||t.position.copy(e.object.position),null===(o=e.object.api)||void 0===o||o.velocity.set(0,0,0)}))}),[r]),Object(j.jsxs)("group",{ref:t,children:[" ",Object(j.jsx)("dragControls",{transformGroup:!0,ref:o,args:[r,h,u.domElement]}),e.children]})},w=o(43),y=function(e){var t,o=Object(i.d)(w.a,"/car-configurator-r3f-deploy"+e.path);return console.log(o),o.animations.length>0&&(t=new O.AnimationMixer(o.scene),o.animations.forEach((function(e){t.clipAction(e).play()}))),Object(i.c)((function(e,o){var c;null===(c=t)||void 0===c||c.update(o)})),o.scene.traverse((function(e){e.isMesh&&(console.log(e),e.castShadow=!0,e.receiveShadow=!0,e.material.side=O.FrontSide)})),Object(j.jsx)("primitive",{object:o.scene,scale:e.scale})},P=function(e){var t=e.children,o=e.offset,c=void 0===o?[0,0,0]:o,n=e.position,s=void 0===n?[0,0,0]:n,r=e.size,i=void 0===r?[1,1,1]:r,l=e.visible,b=void 0!==l&&l,u=Object(h.b)((function(){return{mass:1,args:i,position:s}})),d=Object(a.a)(u,2),g=d[0],O=d[1];return Object(j.jsxs)("group",{ref:g,api:O,children:[Object(j.jsxs)("mesh",{scale:i,visible:b,children:[Object(j.jsx)("boxBufferGeometry",{}),Object(j.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(j.jsx)("group",{position:c,children:t})]})},C=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(c.Suspense,{fallback:null,children:[Object(j.jsx)(v,{children:Object(j.jsx)(P,{offset:[0,-.4,.8],position:[4,2,0],size:[3,2,6],children:Object(j.jsx)(y,{path:"/tesla_model_3/scene.gltf",scale:new Array(3).fill(.01)})})}),Object(j.jsxs)(v,{children:[Object(j.jsx)(P,{offset:[0,-.8,.2],position:[-4,2,0],size:[3,2,7],children:Object(j.jsx)(y,{path:"/tesla_model_s/scene.gltf",scale:new Array(3).fill(.013)})}),Object(j.jsx)("group",{rotation:[0,Math.PI,0],position:[0,5e-4,0],children:Object(j.jsx)(y,{path:"mech_drone/scene.gltf",scale:new Array(3).fill(7)})})]})]})})},M=o(11),S=o(34),k=function(e){Object(S.a)(e);var t=new O.Vector3,o=new O.Vector3;Object(i.c)((function(e){var c=e.camera,n=e.scene;if(p.shouldFocus){c.position.lerp(t.set.apply(t,Object(M.a)(p.cameraPos)),.1),n.orbitControls.update(),n.orbitControls.target.lerp(o.set.apply(o,Object(M.a)(p.targetPos)),.1);var s=c.position.clone().sub(t.set.apply(t,Object(M.a)(p.cameraPos))).length();if(p.activeMesh=n.getObjectByName(p.activeMeshName),console.log(p.activeMesh),s<.1)p.shouldFocus=!1,console.log(n),console.log(p.shouldFocus),c.position.clone().sub(t.set.apply(t,Object(M.a)(p.cameraPos))).length()>.1&&(n.orbitControls.target.reset(),n.orbitControls.update())}}));var c={pair_one:{cameraPos:new O.Vector3(2,3,5),targetPos:new O.Vector3(4,0,0)},pair_two:{cameraPos:new O.Vector3(2,3,5),targetPos:new O.Vector3(-4,0,0)}};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("arrowHelper",{args:[c.pair_one.cameraPos.normalize(),c.pair_one.targetPos,4,16776960,.5]}),Object(j.jsx)("arrowHelper",{args:[c.pair_two.cameraPos.normalize(),c.pair_two.targetPos,4,16776960,.5]})]})},_={zIndex:1,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",bottom:"5vh",height:"40px",width:"40px",backgroundColor:"rgb(30, 75, 93)",color:"black",borderRadius:"50%",fontSize:20,fontWeight:"bold",border:"1px solid black",cursor:"pointer"},E=function(){var e={1:{cameraPos:[6,3,5],targetPos:[4,0,0],name:"Capot001_CAR_PAINT_0"},2:{cameraPos:[-2,3,5],targetPos:[-4,0,0],name:"object005_bod_0"}},t=(new O.Vector3,function(t){p.cameraPos=e[t].cameraPos,console.log(p.cameraPos),p.targetPos=e[t].targetPos,console.log(p.targetPos),p.shouldFocus=!0,console.log(e[t].name),p.activeMeshName=e[t].name});return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"btnparent_container",children:Object(j.jsxs)("div",{className:"btnparent",children:[Object(j.jsx)("button",{className:"cameraBtn_LHS",style:Object(u.a)({left:"40vw"},_),onClick:function(e){return t(2)},children:"<"}),Object(j.jsx)("button",{className:"cameraBtn_RHS",style:Object(u.a)({right:"40vw"},_),onClick:function(e){return t(1)},children:">"})]})})})},F=function(e){return Object(S.a)(e),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ambientLight",{intensity:.2}),Object(j.jsx)("directionalLight",{position:[6,3,0],castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10,intensity:2}),Object(j.jsx)(g,{position:[-6,3,0]}),Object(j.jsx)(g,{position:[0,3,0]}),Object(j.jsx)(g,{position:[6,3,0]})]})},L=o(36),z=function(){var e=Object(i.e)().scene,t=Object(c.useState)(null),o=Object(a.a)(t,2),n=o[0],s=o[1];return console.log(e.lights),Object(c.useEffect)((function(){e.lights&&3===e.lights.length&&s(e.lights)}),[e.lights]),n?Object(j.jsxs)(L.b,{children:[Object(j.jsx)(L.a,{focusDistance:0,focalLength:.02,bokehScale:2,height:480}),e.lights.map((function(e,t){return Object(j.jsx)(L.c,{sun:e.current},e.current.uuid)}))]}):null},B=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2);t[0],t[1];return Object(j.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(j.jsx)(m,{}),Object(j.jsx)(E,{}),Object(j.jsxs)(i.a,{style:{backgroundColor:"black"},camera:{position:[7,7,7]},shadows:!0,gl:{powerPreference:"high-performance",antialias:!1,stencil:!1,depth:!1},children:[Object(j.jsx)("axesHelper",{arg:[5]}),Object(j.jsxs)(h.a,{children:[Object(j.jsx)(C,{}),Object(j.jsx)(d,{position:[0,-.5,0]})," "]}),Object(j.jsx)(F,{}),Object(j.jsx)(c.Suspense,{fallback:null,children:Object(j.jsx)(f,{})}),Object(j.jsx)(k,{}),Object(j.jsx)(b,{}),Object(j.jsx)(z,{})]})]})},N=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,54)).then((function(t){var o=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;o(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(B,{})}),document.getElementById("root")),N()}},[[52,1,2]]]);
//# sourceMappingURL=main.02fe9d5d.chunk.js.map